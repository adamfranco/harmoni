<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- 
 @package harmoni.docs
 @copyright Copyright &copy; 2005, Middlebury College
 @license http://www.gnu.org/copyleft/gpl.html GNU General Public License (GPL)
 @version $Id: changelog.xml,v 1.130.2.7 2006/08/04 19:54:50 adamfranco Exp $
 -->
<!DOCTYPE changelog SYSTEM "../dtds/changelog.dtd">

<changelog name="Harmoni ChangeLog">
	<version number="0.7.4" date="2006-08-04">
		<fix author='adam'>
			Chronology: fromString() methods now return null for invalid strings
			rather than doing a die(). 
		</fix>
		<fix author='adam'>
			Repository: Authoritative values are now only added if a valid
			data object is passed.
		</fix>
	</version>
	<version number="0.7.3" date="2006-08-02">
		<fix author='adam'>
			Chronology: Now does not die when fromString is called on an invalid date.
			Returns false instead.
		</fix>
		<fix author='adam'>
			Repository: Now enforces deleting of file/thumbnail data properly. 
			Previously, file records were being orphened when assets were deleted.
		</fix>
		<fix author='adam'>
			Authorization: Now calls addslashes() on agent and group ids to prevent
			errors when those ids contain apostrophes.
		</fix>
		<fix author='adam'>
			Logging: Improved performance of the LogEntryIterator to
			make a more reponsive interface.
		</fix>
		<change author='adam'>
			Logging: Errors now log the query string as well as the referer to
			better trace errors.
		</change>
	</version>
	<version number="0.7.2" date="2006-07-21">
		<fix author='adam'>
			ImageProcessor: Now doesn't try to convert text files as images.
		</fix>
	</version>
	<version number="0.7.1" date="2006-06-20">
		<fix author='adam'>
			AuthZ: Quotes in Group Ids were breaking queries.
		</fix>
	</version>
	<version number="0.7.0" date="2006-06-16">
		<important author='adam'>
			The following 9 queries need to be run on a Harmoni 0.6.x database
			to upgrade it to support the needs of Harmoni 0.7.0:
			
			ALTER TABLE `dm_schema` 
			ADD `active` TINYINT( 1 ) UNSIGNED DEFAULT '1' NOT NULL AFTER `revision` ;
			
			ALTER TABLE `dr_authoritative_values` 
			ADD `fk_repository` VARCHAR( 100 ) NOT NULL AFTER `fk_partstructure` ;
			
			ALTER TABLE `dr_authoritative_values` DROP PRIMARY KEY;
			
			ALTER TABLE `dr_authoritative_values` DROP INDEX `fk_partstructure` , 
			ADD INDEX `fk_partstructure` ( `fk_partstructure` , `fk_repository` ) ;
			
			ALTER TABLE `dr_authoritative_values` 
			CHANGE `value` `value` VARCHAR( 240 ) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL ;
			
			DROP TABLE `dr_authority_options` ;
			
			ALTER TABLE `log_agent` ADD PRIMARY KEY ( `fk_entry` , `fk_agent` ) ;
			
			ALTER TABLE `log_entry` ADD INDEX ( `log_name` );
			
			ALTER TABLE `log_node` ADD PRIMARY KEY ( `fk_entry` , `fk_node` ) ;
		</important>
		<new author='adam'>
			RequestContext: Moved output buffer jumping methods to the RequestContext
			as ob_jump() and ob_land() from Chris's StatusStars. StatusStars is now in
			harmoni/core/utilities.
		</new>
		<change author='adam'>
			Logging: Reworked db indexes to speed queries.
		</change>
		<fix author='adam'>
			Repository: Some Repository methods now allow the optional passing in of a
			status indicator which can allow the printing of update status.
		</fix>
		<fix author='adam'>
			DataManager/Repository: DataManager Records now dynamically add fields
			if SchemaFields have been added to their Schema.
		</fix>
		<new author='adam'>
			DataManager/Repository: Adding support for PartStructure/Part data-type
			conversion.
		</new>
		<change author='adam'>
			DataManager/Repository: Adding support for schema/RecordStructure deleting.
		</change>
		<change author='adam'>
			Repository: Added support for Record/RecordStructure duplication.
		</change>
		<change author='adam'>
			Repository: AuthoritativeValues addition is now an AuthorizationFunction.
		</change>
		<change author='adam'>
			Authoritative Values are now per Repository.
		</change>
		<fix author='adam'>
			BrowserHistoryManager: Now records full url with all parameters 
			automatically.
		</fix>
		<change author='chris'>
			GUIManager has been updated to reflect the original design in its 
			backend.  All Style objects are streamlined for programatic interfacing.
		</change>
		<fix author='adam'>
			Repository: File PartStructures now implement skeletons of Authoritative
			Values methods.
		</fix>
		<fix author='adam'>
			Logging: Ensured that logging is now ready for use before attempting
			to log errors.
		</fix>
		<change author='adam'>
			DatabaseManager: Allowing the addition of custom messages for database 
			connection errors.
		</change>
		<fix author='adam'>
			ErrorManager: Making Errors more legible..
		</fix>
	</version>
	<version number="0.6.1" date="2006-05-19">
		<new author='adam'>
			Shared: New Multi-Iterator Iterator to ease the combining of results
			received as several iterators.
		</new>
		<change author='adam'>
			Repository: now caches AssetTypes loaded by getAssetTypes().
		</change>
		<change author='adam'>
			Repository: SQL definition now includes MAX_ROWS and AVG_ROW_LENGTH
			parameters to get over issues with the large table size in the
			dr_file_data table.
		</change>
		<fix author='adam'>
			RequestContext: In the request, periods and spaces will get 
			converted to '_'s, so it is now done preemptively
		</fix>
	</version>
	<version number="0.6.0" date="2006-05-05">
		<fix author='adam'>
			Now deletes the dr_asset_info record when deleting assets.
		</fix>
		<new author='adam'>
			Assets and Asset-search-order now support modification and creation times.
		</new>
		<change author="adam">
			Asset::getAssets() now loads assets only on calls to next() rather 
			than right away, saving time and queries when just checking for the 
			existance of children.
		</change>
		<new author='adam'>
			Implemented Authority-Lists for Record Parts. These lists are accessed
			through the PartStructure. These lists are intended to be used to 
			provide choices in Asset-editing interfaces. There is no restriction
			that Parts must have values not from the list.
		</new>
		<new author='adam'>
			Added added support for getting group information from LDAP.
		</new>
		<fix author='chris'>
			Argument validation for idStrings must allow integers as well, fixed
			in HarmoniId, HierarchyCache, Tree.
		</fix>
		<fix author='adam'>
			Now actually gets the qualifier Id when deleting an authorization.
		</fix>
		<change author="adam">
			Added access to the 'Authenticatable Users' group.
		</change>
		<new author='adam'>
			Now caches resized versions of images.
		</new>
		<fix author='adam'>
			Fixed authorization cache errors that occurred when explicit AZs
			triggered cache hits before implicit AZs were loaded.
		</fix>
		<fix author='adam'>
			Fixed keyword searching to cut search time by 10x. 
			Also fixed several reference errors in the DataManager.
		</fix>
		<new author='adam'>
			Implemented an OSID Logging.
		</new>
	</version>
	<version number="0.5.1" date="2005-02-09">
		<fix author='adam'>
			Fixed table structure to support longer Id lengths.
		</fix>
		<fix author='adam'>
			Fixed return by reference errors that throw notices in PHP 4.4.
		</fix>
		<new author='adam'>
			Now can add HTML ids to GUI components.
		</new>
		<fix author='adam'>
			Fixed output HTML tabbing.
		</fix>
		<new author='adam'>
			HtmlString now handles CDATA sections and HTML comments.
		</new>
		<fix author='adam'>
			Comparing Ids via object methods rather than string-values
		</fix>
		<new author='chris'>
			Parts can now automatically convert from a string value into the 
			appropriate data object.
		</new>
		<new author='adam'>
			New methods for manipulating OrderedSets.
		</new>
	</version>
	<version number="0.5.0" date="2005-01-10">
		<new author='adam'>
			Authz: IsUserAuthorized caching system to dramatically speed authorization
			checking. Look-ahead is currently implemented in the AssetIterator: if
			any assets are returned from the iterator, all elements of the iterator
			are queued for AuthZ caching.
		</new>
		<fix author='adam'>
			Hierarchy: Fix to Node->isLeaf() allows for faster population of 
			browsing interfaces.
		</fix>
		<change author='chris'>
			Repository: Cleaned up the caching that was taking place with
			filedata.
		</change>
		<change author='adam'>
			Hierarchy: Improved hierarchy caching algorithm dramatically speeds
			hierarchy loading while retaining unchanged portions of the cache
			during hierarchy modification.
		</change>
		<change author='chris'>
			DataManager: Updated id columns in SQL to support longer keys need 
			in Schemas/fields.
		</change>
		<new author='adam'>
			GUI: New constants defined for GUI Block indexes to allow for more semantic
			definition and standardization of the levels used to aid Theming. 
			Examples include BACKGROUND_BLOCK, STANDARD_BLOCK, WIZARD_BLOCK, 
			EMPHASIZED_BLOCK.
		</new>
		<change author='adam'>
			GUI: StyleProperties can now include arbitrary pre and post HTML to be
			wrapped around the content that they are styling. This allows for
			complex layout of corner and border images around content for instance.
		</change>
		<new author='adam'>
			GUI: New basic theme.
		</new>
		<new author='adam'>
			Id: Id table now only retains the most recent value instead of all
			used values, saving on wasted table space.
		</new>
		<change author='adam'>
			Removed error supression from the ActionHandler to allow errors to
			be shown during action-class instantiation.
		</change>
		<change author='chris'>
			AuthN: Improved error handling of LDAP connection errors.
		</change>
		<new author='adam'>
			Repository: Keyword searching module in Repository.
		</new>
		<new author='adam'>
			Repository: Now supports Repository-specific RecordStructures.
		</new>
		<change author='adam'>
			Repository: FileRecords now only have their data fetched on access,
			while their metadata (filename, size, mimetype) are fetched together.
		</change>
		<fix author='adam'>
			Repository: Repository->getAsset() was doing extra work verifying
			the existance of Assets it had just found in its search results.
		</fix>
		<change author='adam'>
			Argument validation can now be turned off for production.
		</change>
		<change author='adam'>
			Many speed optimizations in Repository, Authorization, and Hierarchy.
		</change>
		<new author='adam'>
			Primitives: HtmlString primitive which provides cleaning of HTML text as well
			as trimming of an HTML string to a given number of words while 
			preserving proper tag nesting and closure.
		</new>
	</version>
	<version number="0.4.0" date="2005-10-12">
		<change author='adam'>
			Groups and Agents are now stored in the hierarchy, allowing authorizations
			to be placed on them as qualifiers. This allows for specific authorizations 
			as to who can modify which groups or users.
		</change>
		<change author='gabe'>
			Added a check for magic_quotes_gpc being Off in harmoni.inc.php.
		</change>
		<fix author='gabe'>
			Fixed all functions returning references to newly created objects in HarmoniAuthorizationManager.
		</fix>
		<new author='gabe'>
			Added new method getAllExplicitAZsForAgent() to HarmoniAuthorizationManager.
		</new>
		<change author='adam'>
			The Repository FileRecord now provides access to height and width
			information for images and thumbnails.
		</change>
		<change author='gabe'>
			Changed OKI agent management to use new Everyone/Anonymous/Users IDs.
		</change>
		<new author='gabe'>
			Added EventListener and EventTrigger to allow easy extensions of our code later.
		</new>
		<change author='gabe'>
			DataManager: can now store with a Schema definition an arbitrary set of parameters
			for whatever is useful. Updated the Repository to use this method of storing extra
			data.
		</change>
		<new author='gabe' ref='102459' reftype='task'>
			Added task-manager linkability to the changelog.
		</new>
		<change author='gabe'>
			Added retrieval of $_FILES-type data to the RequestContext and RequestHandler classes.
		</change>
		<change author='gabe'>
			Updated DR module to use new DataManager.
		</change>
		<change author='gabe' ref='890779' reftype='bug'>
			DataManager now uses unique ids to reference fields instead of purely by label. 
		</change>
		<fix author='gabe'>
			Fixed a number of bugs in the Primitive and StorablePrimitive classes.
		</fix>
		<fix author='gabe'>
			Fixed ISO date and time string parsers.
		</fix>
		<new author='gabe'>
			DBHandler and Databases now implement a getTableList() function.
		</new>
		<new author='gabe' ref='102448' reftype='task'>
			Implemented (but did not yet test) Oracle database connectivity.
		</new>
		<change author='gabe'>
			Changed DBHandler's toDBDate functionality to automatically format and include
			quotations if necessary for the specific DB type. This became a problem
			for Oracle databases where a function call is necessary for date storage.
		</change>
		<new author='gabe'>
			Added getStringName() to the Database interface and added a method in the DBHandler to allows access
			to the string name based on the database index.
		</new>
		<change author='gabe' ref='116890' reftype='task'>
			All DataManager database queries now free() their results after processing.
		</change>
		<new author='adam'>
			GUIManager now allows for the setting of pre and post HTML. These are 
			HTML tags that need to surround a compontent. This is primarily used to 
			properly nest form-tags around tables/divs to generate valid XHTML.
		</new>
		<fix author='adam'>
			Repaired many PHP notices.
		</fix>
		<fix author='gabe'>
			Repaired many PHP notices.
		</fix>
		<fix author='niraj'>
			Repaired many PHP notices.
		</fix>
		<fix author='adam'>
			The hierarchy cache had a problem where _isCached() was called as a property
			instead of a method, square brackets [] versus parenthasis (), and was breaking
			the cache by creating nodes that were listed as children of other nodes, but did
			not have their parents listed.
		</fix>
		<change author='adam'>
			The Chronology Library as well as the dataManager primitives have now
			been moved to core/Primitives and generalized.
		</change>
		<change author='adam'>
			The Time and DateTime classes have been removed and their functionality
			replaced by the new Chronology DateAndTime class.
		</change>
		<change author='gabe'>
			DataManager:
			
			Records no longer have an active state. They either exist or they don't.
			
			Fields that are deleted now are actually removed from the DB if the Record is
			not version controlled.
			
			getIndices() now returns only the active indices per default, including inactive
			ones only if requested.
		</change>
		<new author='gabe'>
			Added a free() call to the SelectQueryResult classes to free
			memory used by the select query.
		</new>
		<new author='adam'>
			Added the chronology library, a PHP implemenation of the Squeak (Smalltalk) 
			Kernel-Chronology package and aims to serve as a general PHP 
			class-library for handling, comparing, and operating on chronological 
			objects. The original Smalltalk implementation is licensed under the 
			Squeak License http://squeak.org/download/license.html.
			
			This library includes classes that represent instants in time 
			(DateAndTime, TimeStamp), lengths of time (Duration), spans of time 
			anchored at certain instants (Timespan, Year, Month, Week, Date), as 
			well as recuring instants across a span of time (Schedule).
			
			This library has been designed to support all possible dates, times, and 
			durations, not just those since the UNIX epoch (1970). dates can have 
			positive years (C.E./A.D.) or negative years (B.C.E./B.C.) and Durations 
			have been tested to support lengths of time up to +/- 4 billion years with 
			second-precision. Beyond 4 billion years to the limit of testing (50 billion 
			years) Durations have hour-precision.
		</new>
		<new author='gabe'>
			Added URL-writing functionality as well as centralized processing
			of request-related variables from/to the browser into a family
			of classes related to the RequestHandler. 

			All 'communication' between the browser and the program is now
			abstracted and can be subsequently changed transparently.
		</new>
		<change author='adam'>
			In order to allow for globally unique ids from the IdManager, the
			IdManager now allows for an Id prefix to place on ids. The prefix 
			'id.middlebury.edu-' would lead to ids simmilar to 
			'id.middlebury.edu-1234567890'. This will allow for multiple IdManagers
			to be used together without each giving out the same Id strings.
		</change>
		<change author='adam'>
			In conjunction with the IdManager's added 'prefix' capabilities,
			the Harmoni SQL table definitions have been updated to support the
			storing of string Ids (currently up to 75 characters) that may have
			originated from the IdManager. Ids generated internally by the database
			remain as integers.
		</change>
		<change author='adam'>
			In conjunction with the IdManager's added 'prefix' capabilities,
			the Harmoni services that store Ids have been upgraded to allow 
			string ids as well as integer ids.
		</change>
	</version>
	<version number="0.3.3" date="Never Released">
		<fix author='adam'>
			Fixed some more PHP warnings.
		</fix>
	</version>
	<version number="0.3.2" date="2005-04-14">
		<fix author='adam'>
			Existance of a try() function in the ErrorHandler was throwing parse
			errors PHP5.
		</fix>
		<fix author='adam'>
			Services weren't starting because of case problems with the get_class()
			functions in PHP5.
		</fix>
		<fix author='adam'>
			clone() is a reserved word in PHP5. All clone methods have been renamed 
			replicate().
		</fix>
		<fix author='adam'>
			clone() is a reserved word in PHP5. All clone methods have been renamed 
			replicate().
		</fix>
		<fix author='adam'>
			Type now validates arguments. ConfigurationPropertiesType now instantiates 
			properly.
		</fix>
		<fix author='adam'>
			Removed unused parameters from several methods that were throwing warnings.
		</fix>
		<fix author='adam'>
			LanguageLocalizer now uses non-deprecated categories.
		</fix>
		<fix author='adam'>
			If magic_quotes_gpc is on Harmoni now just strips slashes on the G/P/C
			arrays instead of dying with errors.
		</fix>
		<important author='adam'>
			Harmoni now runs on PHP5 and on Win32 systems in addition to PHP4.3 and
			POSIX systems.
		</important>
	</version>
	<version number="0.3.1" date="2005-04-11">
		<change author='adam'>
			Authentication now plays nicely with GET parameters and maintains them
			around during the authentication sequence.
		</change>
		<change author='adam'>
			Agent searching works with new mapping system.
		</change>
	</version>
	<version number="0.3.0" date="2005-04-07">
		<change author='adam'>
			New Framework/Architecture-GUI/Theme interaction decouples the Harmoni
			object from the output system. The GUIManager and other OutputHandlers
			extend the OutputHandler abstract class and can be attached to Harmoni.
			A default 'BasicOutputHandler' is used when no other OutputHandler is
			specified.
		</change>
		<change author='adam'>
			Services::startService(), Services::stopService(), Services::restartService(), 
			and Services::startAll() are now deprecated and print warnings if used.
			Please use Services::startManagerAsService() and/or Services::getService() 
			instead.
		</change>
		<change author='adam'>
			'Service' classes no longer extend the services interface or use
			start()/stop() methods. These had been designed into Harmoni, but were
			never used and are now removed. start()/stop() methods will NOT be
			called during service starting/stopping.
		</change>
		<change author='adam'>
			OKI version 1 interfaces and implementations have been removed, saving
			2MB of files and cleaning up the source tree.
		</change>
		<change author='adam'>
			The hierarchy's Tree class, HierarchyManager/tree/Tree.class.php, now 
			caches its traversal results. (Savings: 93,529 calls to tree->_traverse(), 
			43 seconds execution time on a 500MHz PC in a 5000-node hierarchy)
		</change>
		<new author='adam'>
			ValidatorRule objects can now be accessed via static
			XxxxxValidatorRule::getRule() methods, allowing the ValidatorRule classes
			to behave as Singletons and avoid the instantiation of tens of thousands
			of ValidatorRule objects.
		</new>
		<new author='dobo'>
			GUI Manager now complete. ThemeHandler and LayoutHandler have been
			removed.
		</new>
		<new author='nik'>
			GUI Manager saving functionality.
		</new>
		<new author='adam'>
			OsidManagers can now be started and configured by 
			Services::startManagerAsService("name", $context, $configuration);
		</new>
		<new author='adam'>
			Service names can now have aliases.
		</new>
		<change author='adam'>
			Authentication is completely handled by the AuthenticationManager
			OSID implementation instead of the LoginHandler/AuthenticationHandler.
			The LoginHandler and AuthenticationHandler have been removed.
		</change>
		<new author='adam'>
			New back-end for managing authentication tokens, agents, and the mappings
			between agents and authentication tokens. This is all contained within
			the core/oki2/agentmanagement/ directory.
		</new>
		<change author='adam'>
			DBHandler now provides methods for transaction handling. Applications
			can be coded to use transactions to ensure atomic writes. Databases
			that do not support transactions will simply ignore the calls. Nested
			transaction calls in MySQL are interperated so that only the outer 
			transaction is run allowing applications coded to use nested transactions
			to often operate on MySQL 4.0.11+.
		</change>
		<new author='adam'>
			Now includes implementations of v2.0 of the O.K.I OSIDs.
		</new>
		<new author='adam'>
			Now includes v2.0 of the O.K.I OSIDs.
		</new>
		<fix author='adam'>
			AuthorizationManager now handles group membership.
		</fix>
		<change author='adam'>
			AuthorizationManager now properly returns implicit AZ corresponding to
			explicit AZs at a parent instead of returning the explict AZs themselves.
		</change>
		<change author='gabe'>
			DataManager: added function to SchemaManager to generate valid PHP code 
			for a given Schema.
		</change>
		<change author='gabe'>
			DataManager: deleting a value from a Record without version control now 
			actually deletes the value instead of flagging it as inactive.
		</change>
		<change author='adam'>
			The LanguageLocalizer now defines functions for _() and gettext() that
			simply return the passed string, so that localized apps can fail
			gracefully to their native language if gettext is not installed.
		</change>
		<change author='dobo'>
			DBHandler improvements: SQL strings are prettier now. Also added variable
			binding functionallity.
		</change>
	</version>
	<version number="0.2.0" date="2004-10-26">
		<new author='adam'>
			Added a "MIME" service for sniffing mime types from file extensions.
		</new>
		<new author='adam'>
			Added an ImageProcessor service for the resizing of images, generation
			of thumbnails, and other common image processing functions. This service
			can be configured to use multiple modules to handle different file types,
			as availible. An example would be using PHP's GD libraries for handling
			jpegs and pngs, while using ImageMagick (via shell_exec()) for tiff,
			psd, pdf, etc. files.
		</new>
		<fix author='adam'>
			DBHandler: PostgreSQL now functions without throwing invalid errors.
		</fix>
		<new author='adam'>
			Digital Repository: Now has a "File" Info structure system for storing
			binary files.
		</new>
		<change author='adam'>
			Digital Repository: Now stores Asset dates outside of the
			the data manager.
		</change>
		<new author='gabe'>
			Harmoni::addPreExecActions($action,...) adds a number of actions to execute before executing the action requested by the end user.
		</new>
		<new author='gabe'>
			Harmoni::addPostExecActions($action,...) adds a number of actions to execute after executing the action requested by the end user.
		</new>
		<new author='gabe'>
			Harmoni::executeLogin() executes the LoginHandler and stores the result to avoid discrepancies.
		</new>
		<change author='gabe'>
			Migrated OKI DR implementation to use new DataManager.
		</change>
		<change author='gabe'>
			DataManager: Records now dynamically update their fetch-mode (how much &amp; what data has been fetched) depending on the operation to be performed. Previous version required one to manually re-fetch records (annoying).
		</change>
		<new author='gabe'>
			Function printDebugBacktrace([$traceArray]) will print out a debug_backtrace() in a pretty way.
		</new>
		<new author='gabe'>
			DataManager: Record::getValuesArray() returns an associative array of all active values in a Record.
		</new>
		<new author='gabe'>
			DateTime::toString() now has optional parameter to return a shorter M/D/Y for the date instead of Month DD, YYYY.
		</new>
		<fix author='adam' ref='102455' reftype='task'>
			AuthN queries now have slashes added to dbc query values.
		</fix>
		<fix author='adam' ref='102455' reftype='task'>
			Shared queries now have slashes added to query values.
		</fix>
		<fix author='adam' ref='102455' reftype='task'>
			Globally added addslashes() calls to quoted values in query strings.
		</fix>
		<change author='adam'>
			Fixed LoginHandler problem which was preventing the use of custom
			callback functions.
		</change>
		<new author='adam'>
			A new "Sets" service provides an easy system for the creation, ordering,
			and maintaining of persistant collections of Ids.
		</new>
		<new author='gabe'>
			Added new system for storing primitive data values in objects (all classes implementing the Primitive interface - see harmoni/core/dataManager/primitives)
		</new>
		<new author='gabe'>
			Re-worked the DataManager with simpler class names and more flexibility. (see harmoni/core/dataManager)
		</new>
		<new author='gabe'>
			Added a "revision" to all DataSetTypeDefinitions for later program upgrades (can check revision number to see if the structure is up-to-date instead of comparing every field).
		</new>
		<new author='dobo'>
			GUIManager service, based around CSS, will eventually replace the 
			theme/layout handlers.
		</new>
		<new author='dobo'>
			Implemented the Authorization OSID.
		</new>
		<change author='dobo'>
			Reworked the Hierarchy implementation to use a better data-fetching/caching
			model.
		</change>
	</version>
	<version number="0.1.0" date="2004-06-11">
		<new author='dobo'>
			Added a new OKI-Hiearchy implementation (hierarchy2).
		</new>
		<new author='gabe'>
			DataManager: added a datatype to store OKI-style types.
		</new>
		<fix author='gabe'>
			Bugs in LoginHandler.
		</fix>
		<change author='adam'>
			LanguageLocalizer reworked for easier usage and caching of language
			preferences.
		</change>
		<change author='adam'>
			The DataManager/metaData now uses the OKI Shared Ids instead of its own internal
			id system. This keeps all access to unique ids safely behind the Shared interface.
		</change>
		<change author='adam'>
			Themes and layouts have been completely re-worked to support easier use and
			more user control of the themes.
		</change>
		<change author='adam'>
			Argument Validator now dosn't fail on string representations of integers;
			i.e. "100" as well as 100 will validate.
		</change>
		<new author='adam'>
			Implimented the Digital Repository OSID in Harmoni. The DR uses the Hierarchy OSID,
			the DataManager, and the Shared OSID to provide for high-level access and browsing
			of Assets and their associated data/metadata.
		</new>
		<change author='adam'>
			Services: The Harmoni Services now check for the Error Handler and use that
			to print out errors if it is availible. This makes for easier to read backtraces.
		</change>
		<change author='adam'>
			DBHandler: DBHandler now throws fatal errors with an explanation when a query
			fails.
		</change>
		<new author='adam'>
			Hierarchy: Implimented the Hierarchy OSID. The Hiearchy supports the storing
			of multiple hierarchies and their nodes in one database. In the current 
			implimentation, the entire hierarchy is pulled from the database each load. This
			needs to be re-written to optimize it for fast reads from 100,000+ node
			hierarchy (current Segue at Middlebury has ~50,000 nodes).
		</new>
		<new author='gabe'>
			DataManager: added DataSet caching to the DataSetManager. Added support for required fields
			in DataSetTypeDefinitions.
		</new>
		<change author='gabe'>
			Removed argument validation from DateTime constructor to speed up code by 33%.
		</change>
		<change author='gabe'>
			DataManager: sped up fetching large numbers of DataSets at once (by a factor of two).
		</change>
		<change author='gabe'>
			DataManager: DataSet::prune() now takes a required VersionConstraint object on which to base the
			pruning process. Handling of pruning Tags is very very messy, but it works.
		</change>
		<new author='gabe'>
			DataManager: can use DataSetManager::selectIDsBySearch() to search all/some DataSets and return
			a list of DataSets that match the criteria.
		</new>
		<change author='gabe'>
			DataManager: ValueVersion::prune() now deletes itself if the DataSet it is part of is inactive.
		</change>
		<change author='gabe'>
			DataManager: DataSet::prune() now removes all Tags associated with itself.
		</change>
	</version>
	<version number="0.0.5" date="2004-01-09">
		<change>
			Implementation of the OKI SharedManager (HarmoniSharedManager) now uses the HarmoniDataManager's IDManager
			for ID creation.
		</change>
		<fix>
			DateTime::toString() now correctly displays minutes.
		</fix>
		<new author='gabe'>
			Optional third argument to DataSetManager::fetchArrayOfIDs() specifies an array of DataSetTypes to limit the
			query.
		</new>
		<new author='gabe'>
			Completed the HarmoniDataManager!
		</new>
		<change author='gabe'>
			HarmoniDataManager::setup($dbID) now takes optional second argument including a list of DataSetTypes to
			preload in a single query to save time and Database overhead.
		</change>
		<new author='gabe'>
			added FloatDataType, ShortStringDataType. finished up DataManager tagging, cloning, pruning functionality.
		</new>
		<new author='gabe'>
			added BooleanDataType to DataManager.
		</new>
		<new author='gabe'>
			DataSetManager::fetchArrayOfIDs() fetches an array of DataSet ids in one SQL query. 
		</new>
		<new author='gabe'>
			DateTime::compare(date1, date2) returns difference in seconds between two dates.
		</new>
		<fix>
			Typo in constructor for UnknownDBError class.
		</fix>
		<new author='gabe'>
			Harmoni::forward(module,action) is now a synonym for Harmoni::ActionHandler::forward() for convenience.
		</new>
		<new author='gabe'>
			Classes: Timer and QueryCounter for easy micro-second timing or DB query counting, respectively.
		</new>
		<change author='gabe'>
			Harmoni::getData has been deprecated and replaced by Harmoni::getAttachedData to avoid ambiguity.
		</change>
		<change author='gabe'>
			IDManager::newID() now uses auto_increment DB functionality to reduce query count on compatible
			servers.
		</change>
		<fix author='gabe'>
			DataSet::populate() now sets its own ID to avoid super re-duplication of DataSets in database.
		</fix>
		<fix author='gabe'>
			DateTime::now() now gives correct Hour value. Likewise MySQLDatabase::toDBDate() now adds 1 to hour value
			to give correct 1-24 value. Other DB Types haven't yet been checked.
		</fix>
		<change author='gabe'>
			Modified field in HarmoniDataManager table "datasetfield" from "datasetfield_created" to "datasetfield_modified"
			since it is updated on every commit().
		</change>
		<new author='gabe'>
			Extensive work on DataManager. Now works for creating/retrieving datasets with version controls.
		</new>
		<fix author='gabe'>
			Corrected ArgumentValidator call in DBHandler checking for DateTimeInterface instead of DateTime.
		</fix>
		<new author='gabe'>
			Added AgentInformationHandler::agentExists($name, [$method]) which steps through each AuthenticationMethod
			and checks for an existing agent.
		</new>
		<change author='gabe'>
			LoginState now has better support for Active/Authenticated agents. It should allow one to change
			the active agent without disturbing the actual authentication process.
		</change>
	</version>
	<version number="0.0.4" date="2003-12-06">
		<new author='gabe'>
			DateTime class has two new functions: toString() and toMDY() which display
			a full date/time and a MM/DD/YY string, respectfully.
		</new>
		<new author='gabe'>
			Harmoni::pathInfoParts now contains an array of PATH_INFO elements.
		</new>
		<new author='gabe'>
			ErrorHandler has new method getErrorQueue() which returns the error queue in a Queue object.
		</new>
		<change author='gabe'>
			Harmoni::attachContextData() has been renamed (again) to Harmoni::attachData().
			Context::getData() has been moved to Harmoni::getData().
		</change>
		<change author='gabe'>
			Context object now carries an array holding the executed actions path, available
			by referencing Context::actionPath.
		</change>
		<change author='gabe'>
			ActionHander and Harmoni: ActionHandler now only passes a reference to the Harmoni
			object to action functions and scripts. Other variables are available here:
			Harmoni::HTTPVars, Harmoni::Context, Harmoni::LoginState.
		</change>
		<change author='gabe'>
			Removed many .interface.php files to save on load times and unnecessary flexibility.
		</change>
		<change author='gabe'>
			LoginHandler no longer throws a default error on login failure. LoginHandler::setFailedLoginError()
			can be used to specify an error to be thrown to the UserError service.
			This change is primarily so that people using different languages won't be locked
			into using English for this error message (a pretty important one).
		</change>
		<change author='gabe'>
			LoginState::attachData() has been moved to Harmoni::attachContextData() and
			LoginState::getData() has been moved to Context::getData() for logical and
			organizational reasons.
		</change>
		<change author='gabe'>LoginHandler and Harmoni: when LoginHandler is used, 
		the action that is checked for required authentication is now the LAST action
		executed instead of the first. This way, the action that finally ends up being
		executed is the "authoritative" action.</change>
	</version>
	<version number="0.0.3" date="2003-11-26">
		<change author='gabe'>Made ActionHandler check for class and method definitions before trying to execute them.</change>
		<new author='gabe'>Added defines in config/services.cfg.php to allow a choice of which major "modules" of Harmoni to load, in order to save on startup time.</new>
		<fix author='gabe'>Numerous bug fixes in Harmoni, ActionHandler, LoginHandler</fix>
		<new author='gabe'>Added a file under core/version.inc.php which holds the current harmoni versions.</new>
		<new author='gabe'>Implemented IDManager class under metaData/ to handle ID generation for the MetaData handler classes.</new>
		<change author='gabe'>Updated HarmoniType OSID implementation to have a constructor that follows OKI's specifications.</change>
		<new>Services class now outputs a debug backtrace upon error.</new>
		<fix author='gabe'>
			Fixed bug in optional arg-list for Services::startService that caused a syntax error
			in eval().
		</fix>
		<change author='gabe'>
			Services class method startService($name) now takes optional
			additional arguments which are passed to the service class
			constructor.
		</change>
		<new author='gabe'>
			FormFieldSet class under 'utilities' combines FieldSet functionality
			with keeping track of changed values and easy validation. Intended 
			for HTML Form use.
		</new>
		<change author='adam'> 
			Various fixes to the OSIDs. Added 'requires' for classes being
			extended. Fixed	syntax errors.
		</change>
		<new author='adam'>
			Laid out a skeleton Shared Service implimentation. Currently the
			shared manager only provides for the generation of unique IDs using 
			a databse.
		</new>
		<new author='adam'>
			Fully implimented the Hierarchy Service, the first of the OKI OSIDs
			to be implimented. The Hierarchy Service supports saving to a
			database as well as memory-only usage.
		</new>
		<new author='gabe'>
			Harmoni Users's Guide stored locally in XML format. Wrote a
			gen-script in PHP using domxml to make pretty HTML interface.
		</new>
		<change author='gabe'>
			LanguageLocalizer now uses gettext() functions instead of
			home-brewed. Included PO generators, "borrowed" from the Horde
			project (www.horde.org).
		</change>
		<change author='gabe'>New OKI interfaces, OKI gen-scripts and token
			files added (under harmoni/oki and harmoni/core/tools/oki
			respectively)
		</change>
	</version>
	<version number="0.0.2" date="2003-09-28">
		<new author='gabe'>
			ActionHandler::forward($action) can now be called from within an
			action to continue execution.
		</new>
		<new author='gabe'>
			Services::registerObjectAsService() allows you to register an
			already-instantiated object as a service.
		</new>
		<change author='gabe'>
			Services::requireService() now returns the started service.
		</change>
		<change author='gabe'>
			LanguageLocalizer files can now have comments (designated by '#')
			and keys/values	are trimmed.
		</change>
		<change author='gabe'>
			Harmoni->execute() now returns the result from the action if
			outputHTML = false.
		</change>
		<change author='gabe'>
			DebugHandlers now store an internal output level which is used when
			none is passed to the Printer.
		</change>
		<change author='gabe'>
			LoginState now keeps track of both an Active and Logged-in agent.
		</change>
		<change author='gabe'>
			Layouts &amp; other VisualComponents now have setLevel() and
			getLevel() methods and store the level locally.
		</change>
		<change author='gabe'>
			Template->output() now accepts a variable length argument list of
			FieldSets or hash tables.
		</change>
		<change author='gabe'>
			Actions are now passed a reference to the Harmoni object.
		</change>
		<new author='gabe'>
			Databases now have a toDBDate() and fromDBDate() function to convert
			to the necessary Date format.
		</new>
		<new author='gabe'>
			Completed ActionHandler, LoginHandler and Harmoni classes and
			services.
		</new>
		<change author='dobo'>
			Deprecated the createDatabase() method in DBHandler. Use
			addDatabase(), instead.	This change was provoked by the fact that

			Oracle requires different arguments to instantiate the DB object.
		</change>
		<new author='gabe'>
			Added RGBcolor and HTMLcolor classes.
		</new>
		<change author='gabe'>
			Finished Layout, Theme and Template.
		</change>
		<change>
			AuthenticationMethod includes changed to avoid random unprintable
			character output.
		</change>
		<change author='gabe'>
			FieldSetValidator and RuleSet now take optional argument on 
			validate()/validateAll() functions specifying if errors should be
			thrown upon failure or not.
		</change>
		<change author='gabe'>
			RuleSet can now accept an ErrorHandler to use via setErrorHandler().
		</change>
		<new author='dobo'>
			DBHandler can now use a PostgreSQL server and fetching last insert
			ID works on all integrated DBs.
		</new>
		<change author='gabe'>
			layoutHandler now works. Theme integration is to come.
		</change>
		<new author='max'>
			Database file storage method.
		</new>
		<new author='gabe'>
			Added interfaces for: VisualComponent, Layout, Menu, Content -- all
			part of the LayoutHandler.
		</new>
		<change author='gabe'>
			AuthenticationResult now holds authenticated agent's system name as
			well as valid methods.
		</change>
		<change author='gabe'>
			AgentInformationHandler now handles compiling of search results and
			returns the appropriate array format.
		</change>
		<change author='gabe'>
			AuthenticationMethod::getAgentInformation now returns an associative
			array of [username]=>array([key1]=>value1,...),...
		</change>
		<new author='gabe'>
			ChangeLog now held in an XML file and translated by XSL!
		</new>
	</version>
	<version number="0.0.1" date="2003-07-10">
		<change author='gabe'>
			Changed AuthenticationMethod to allow for
			getAgentInformation(username,searchMode) so that one can search for 
			a username/fullname etc as well as get information for a single
			entry.
		</change>
		<new author='max'>
			Added StatisticsHandler.
		</new>
		<change author='gabe'>
			Updated DB and LDAP AuthenticationMethods to allow for user-info
			searching &amp; tested backwards compatibility.
		</change>
		<change author='gabe'>
			Changed naming scheme of packages so that they describe more clearly
			what they DO as opposed to what they CONTAIN.
		</change>
	</version>
	
	<authors>
		<name short="gabe">Gabe Schine</name>
		<name short="adam">Adam Franco</name>
		<name short="dobo">Dobo Radichkov</name>
		<name short="nik">Nikitas Stamatopoulos</name>
		<name short="niraj">Niraj Dhungel</name>
		<name short="chris">Christopher Shubert</name>
		<name short="alex">Alex Chapin</name>
		<name short="max">Max Ovsjanikovs</name>
		<name short="eric">Eric Janssen</name>
		<name short="zach">Zach Toups</name>
		<name short="karlie">Karlie Verkest</name>
	</authors>
	<groupid>82873</groupid>
	<reftypes>
		<reftype name="bug">http://sourceforge.net/tracker/index.php?func=detail&amp;group_id=82873&amp;atid=567473&amp;aid=</reftype>
		<reftype name="fr">http://sourceforge.net/tracker/index.php?func=detail&amp;group_id=82873&amp;atid=567476&amp;aid=</reftype>
		<reftype name="task">http://sourceforge.net/pm/task.php?func=detailtask&amp;group_id=82873&amp;group_project_id=37898&amp;project_task_id=</reftype>
	</reftypes>
</changelog>
