<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE changelog SYSTEM "../dtds/changelog.dtd">

<changelog name="Harmoni ChangeLog">
	<version number="0.1.0" date="2004-06-11">
		<new author='dobo'>
			Added a new OKI-Hiearchy implementation (hierarchy2).
		</new>
		<new author='gabe'>
			DataManager: added a datatype to store OKI-style types.
		</new>
		<fix author='gabe'>
			Bugs in LoginHandler.
		</fix>
		<change author='adam'>
			The DataManager/metaData now uses the OKI Shared Ids instead of its own internal
			id system. This keeps all access to unique ids safely behind the Shared interface.
		</change>
		<change author='adam'>
			Themes and layouts have been completely re-worked to support easier use and
			more user control of the themes.
		</change>
		<change author='adam'>
			Argument Validator now dosn't fail on string representations of integers;
			i.e. "100" as well as 100 will validate.
		</change>
		<new author='adam'>
			Implimented the Digital Repository OSID in Harmoni. The DR uses the Hierarchy OSID,
			the DataManager, and the Shared OSID to provide for high-level access and browsing
			of Assets and their associated data/metadata.
		</new>
		<change author='adam'>
			Services: The Harmoni Services now check for the Error Handler and use that
			to print out errors if it is availible. This makes for easier to read backtraces.
		</change>
		<change author='adam'>
			DBHandler: DBHandler now throws fatal errors with an explanation when a query
			fails.
		</change>
		<new author='adam'>
			Hierarchy: Implimented the Hierarchy OSID. The Hiearchy supports the storing
			of multiple hierarchies and their nodes in one database. In the current 
			implimentation, the entire hierarchy is pulled from the database each load. This
			needs to be re-written to optimize it for fast reads from 100,000+ node
			hierarchy (current Segue at Middlebury has ~50,000 nodes).
		</new>
		<new author='gabe'>
			DataManager: added DataSet caching to the DataSetManager. Added support for required fields
			in DataSetTypeDefinitions.
		</new>
		<change author='gabe'>
			Removed argument validation from DateTime constructor to speed up code by 33%.
		</change>
		<change author='gabe'>
			DataManager: sped up fetching large numbers of DataSets at once (by a factor of two).
		</change>
		<change author='gabe'>
			DataManager: DataSet::prune() now takes a required VersionConstraint object on which to base the
			pruning process. Handling of pruning Tags is very very messy, but it works.
		</change>
		<new author='gabe'>
			DataManager: can use DataSetManager::selectIDsBySearch() to search all/some DataSets and return
			a list of DataSets that match the criteria.
		</new>
		<change author='gabe'>
			DataManager: ValueVersion::prune() now deletes itself if the DataSet it is part of is inactive.
		</change>
		<change author='gabe'>
			DataManager: DataSet::prune() now removes all Tags associated with itself.
		</change>
	</version>
	<version number="0.0.5" date="2004-01-09">
		<change>
			Implementation of the OKI SharedManager (HarmoniSharedManager) now uses the HarmoniDataManager's IDManager
			for ID creation.
		</change>
		<fix>
			DateTime::toString() now correctly displays minutes.
		</fix>
		<new author='gabe'>
			Optional third argument to DataSetManager::fetchArrayOfIDs() specifies an array of DataSetTypes to limit the
			query.
		</new>
		<new author='gabe'>
			Completed the HarmoniDataManager!
		</new>
		<change author='gabe'>
			HarmoniDataManager::setup($dbID) now takes optional second argument including a list of DataSetTypes to
			preload in a single query to save time and Database overhead.
		</change>
		<new author='gabe'>
			added FloatDataType, ShortStringDataType. finished up DataManager tagging, cloning, pruning functionality.
		</new>
		<new author='gabe'>
			added BooleanDataType to DataManager.
		</new>
		<new author='gabe'>
			DataSetManager::fetchArrayOfIDs() fetches an array of DataSet ids in one SQL query. 
		</new>
		<new author='gabe'>
			DateTime::compare(date1, date2) returns difference in seconds between two dates.
		</new>
		<fix>
			Typo in constructor for UnknownDBError class.
		</fix>
		<new author='gabe'>
			Harmoni::forward(module,action) is now a synonym for Harmoni::ActionHandler::forward() for convenience.
		</new>
		<new author='gabe'>
			Classes: Timer and QueryCounter for easy micro-second timing or DB query counting, respectively.
		</new>
		<change author='gabe'>
			Harmoni::getData has been deprecated and replaced by Harmoni::getAttachedData to avoid ambiguity.
		</change>
		<change author='gabe'>
			IDManager::newID() now uses auto_increment DB functionality to reduce query count on compatible
			servers.
		</change>
		<fix author='gabe'>
			DataSet::populate() now sets its own ID to avoid super re-duplication of DataSets in database.
		</fix>
		<fix author='gabe'>
			DateTime::now() now gives correct Hour value. Likewise MySQLDatabase::toDBDate() now adds 1 to hour value
			to give correct 1-24 value. Other DB Types haven't yet been checked.
		</fix>
		<change author='gabe'>
			Modified field in HarmoniDataManager table "datasetfield" from "datasetfield_created" to "datasetfield_modified"
			since it is updated on every commit().
		</change>
		<new author='gabe'>
			Extensive work on DataManager. Now works for creating/retrieving datasets with version controls.
		</new>
		<fix author='gabe'>
			Corrected ArgumentValidator call in DBHandler checking for DateTimeInterface instead of DateTime.
		</fix>
		<new author='gabe'>
			Added AgentInformationHandler::agentExists($name, [$method]) which steps through each AuthenticationMethod
			and checks for an existing agent.
		</new>
		<change author='gabe'>
			LoginState now has better support for Active/Authenticated agents. It should allow one to change
			the active agent without disturbing the actual authentication process.
		</change>
	</version>
	<version number="0.0.4" date="2003-12-06">
		<new author='gabe'>
			DateTime class has two new functions: toString() and toMDY() which display
			a full date/time and a MM/DD/YY string, respectfully.
		</new>
		<new author='gabe'>
			Harmoni::pathInfoParts now contains an array of PATH_INFO elements.
		</new>
		<new author='gabe'>
			ErrorHandler has new method getErrorQueue() which returns the error queue in a Queue object.
		</new>
		<change author='gabe'>
			Harmoni::attachContextData() has been renamed (again) to Harmoni::attachData().
			Context::getData() has been moved to Harmoni::getData().
		</change>
		<change author='gabe'>
			Context object now carries an array holding the executed actions path, available
			by referencing Context::actionPath.
		</change>
		<change author='gabe'>
			ActionHander and Harmoni: ActionHandler now only passes a reference to the Harmoni
			object to action functions and scripts. Other variables are available here:
			Harmoni::HTTPVars, Harmoni::Context, Harmoni::LoginState.
		</change>
		<change author='gabe'>
			Removed many .interface.php files to save on load times and unnecessary flexibility.
		</change>
		<change author='gabe'>
			LoginHandler no longer throws a default error on login failure. LoginHandler::setFailedLoginError()
			can be used to specify an error to be thrown to the UserError service.
			This change is primarily so that people using different languages won't be locked
			into using English for this error message (a pretty important one).
		</change>
		<change author='gabe'>
			LoginState::attachData() has been moved to Harmoni::attachContextData() and
			LoginState::getData() has been moved to Context::getData() for logical and
			organizational reasons.
		</change>
		<change author='gabe'>LoginHandler and Harmoni: when LoginHandler is used, 
		the action that is checked for required authentication is now the LAST action
		executed instead of the first. This way, the action that finally ends up being
		executed is the "authoritative" action.</change>
	</version>
	<version number="0.0.3" date="2003-11-26">
		<change author='gabe'>Made ActionHandler check for class and method definitions before trying to execute them.</change>
		<new author='gabe'>Added defines in config/services.cfg.php to allow a choice of which major "modules" of Harmoni to load, in order to save on startup time.</new>
		<fix author='gabe'>Numerous bug fixes in Harmoni, ActionHandler, LoginHandler</fix>
		<new author='gabe'>Added a file under core/version.inc.php which holds the current harmoni versions.</new>
		<new author='gabe'>Implemented IDManager class under metaData/ to handle ID generation for the MetaData handler classes.</new>
		<change author='gabe'>Updated HarmoniType OSID implementation to have a constructor that follows OKI's specifications.</change>
		<new>Services class now outputs a debug backtrace upon error.</new>
		<fix author='gabe'>
			Fixed bug in optional arg-list for Services::startService that caused a syntax error
			in eval().
		</fix>
		<change author='gabe'>
			Services class method startService($name) now takes optional
			additional arguments which are passed to the service class
			constructor.
		</change>
		<new author='gabe'>
			FormFieldSet class under 'utilities' combines FieldSet functionality
			with keeping track of changed values and easy validation. Intended 
			for HTML Form use.
		</new>
		<change author='adam'> 
			Various fixes to the OSIDs. Added 'requires' for classes being
			extended. Fixed	syntax errors.
		</change>
		<new author='adam'>
			Laid out a skeleton Shared Service implimentation. Currently the
			shared manager only provides for the generation of unique IDs using 
			a databse.
		</new>
		<new author='adam'>
			Fully implimented the Hierarchy Service, the first of the OKI OSIDs
			to be implimented. The Hierarchy Service supports saving to a
			database as well as memory-only usage.
		</new>
		<new author='gabe'>
			Harmoni Users's Guide stored locally in XML format. Wrote a
			gen-script in PHP using domxml to make pretty HTML interface.
		</new>
		<change author='gabe'>
			LanguageLocalizer now uses gettext() functions instead of
			home-brewed. Included PO generators, "borrowed" from the Horde
			project (www.horde.org).
		</change>
		<change author='gabe'>New OKI interfaces, OKI gen-scripts and token
			files added (under harmoni/oki and harmoni/core/tools/oki
			respectively)
		</change>
	</version>
	<version number="0.0.2" date="2003-09-28">
		<new author='gabe'>
			ActionHandler::forward($action) can now be called from within an
			action to continue execution.
		</new>
		<new author='gabe'>
			Services::registerObjectAsService() allows you to register an
			already-instantiated object as a service.
		</new>
		<change author='gabe'>
			Services::requireService() now returns the started service.
		</change>
		<change author='gabe'>
			LanguageLocalizer files can now have comments (designated by '#')
			and keys/values	are trimmed.
		</change>
		<change author='gabe'>
			Harmoni->execute() now returns the result from the action if
			outputHTML = false.
		</change>
		<change author='gabe'>
			DebugHandlers now store an internal output level which is used when
			none is passed to the Printer.
		</change>
		<change author='gabe'>
			LoginState now keeps track of both an Active and Logged-in agent.
		</change>
		<change author='gabe'>
			Layouts &amp; other VisualComponents now have setLevel() and
			getLevel() methods and store the level locally.
		</change>
		<change author='gabe'>
			Template->output() now accepts a variable length argument list of
			FieldSets or hash tables.
		</change>
		<change author='gabe'>
			Actions are now passed a reference to the Harmoni object.
		</change>
		<new author='gabe'>
			Databases now have a toDBDate() and fromDBDate() function to convert
			to the necessary Date format.
		</new>
		<new author='gabe'>
			Completed ActionHandler, LoginHandler and Harmoni classes and
			services.
		</new>
		<change author='dobo'>
			Deprecated the createDatabase() method in DBHandler. Use
			addDatabase(), instead.	This change was provoked by the fact that

			Oracle requires different arguments to instantiate the DB object.
		</change>
		<new author='gabe'>
			Added RGBcolor and HTMLcolor classes.
		</new>
		<change author='gabe'>
			Finished Layout, Theme and Template.
		</change>
		<change>
			AuthenticationMethod includes changed to avoid random unprintable
			character output.
		</change>
		<change author='gabe'>
			FieldSetValidator and RuleSet now take optional argument on 
			validate()/validateAll() functions specifying if errors should be
			thrown upon failure or not.
		</change>
		<change author='gabe'>
			RuleSet can now accept an ErrorHandler to use via setErrorHandler().
		</change>
		<new author='dobo'>
			DBHandler can now use a PostgreSQL server and fetching last insert
			ID works on all integrated DBs.
		</new>
		<change author='gabe'>
			layoutHandler now works. Theme integration is to come.
		</change>
		<new author='max'>
			Database file storage method.
		</new>
		<new author='gabe'>
			Added interfaces for: VisualComponent, Layout, Menu, Content -- all
			part of the LayoutHandler.
		</new>
		<change author='gabe'>
			AuthenticationResult now holds authenticated agent's system name as
			well as valid methods.
		</change>
		<change author='gabe'>
			AgentInformationHandler now handles compiling of search results and
			returns the appropriate array format.
		</change>
		<change author='gabe'>
			AuthenticationMethod::getAgentInformation now returns an associative
			array of [username]=>array([key1]=>value1,...),...
		</change>
		<new author='gabe'>
			ChangeLog now held in an XML file and translated by XSL!
		</new>
	</version>
	<version number="0.0.1" date="2003-07-10">
		<change author='gabe'>
			Changed AuthenticationMethod to allow for
			getAgentInformation(username,searchMode) so that one can search for 
			a username/fullname etc as well as get information for a single
			entry.
		</change>
		<new author='max'>
			Added StatisticsHandler.
		</new>
		<change author='gabe'>
			Updated DB and LDAP AuthenticationMethods to allow for user-info
			searching &amp; tested backwards compatibility.
		</change>
		<change author='gabe'>
			Changed naming scheme of packages so that they describe more clearly
			what they DO as opposed to what they CONTAIN.
		</change>
	</version>
	
	<authors>
		<name short="gabe">Gabe Schine</name>
		<name short="adam">Adam Franco</name>
		<name short="dobo">Dobo Radichkov</name>
		<name short="max">Max Ovsjanikovs</name>
		<name short="eric">Eric Janssen</name>
		<name short="zach">Zach Toups</name>
		<name short="karlie">Karlie Verkest</name>
	</authors>
	<groupid>82873</groupid>
	<reftypes>
		<reftype name="bug">567473</reftype>
		<reftype name="fr">567476</reftype>
	</reftypes>
</changelog>
