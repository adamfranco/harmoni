<html>
	<head>
		<title>Error Handlers</title>
		<link rel="stylesheet" type="text/css" href="common.css">
	</head>
	
	<body>
		<!-- top nav bar -->
		<div class="navbar">
			<table border="0" cellpadding="0" width="100%">
				<tr>
					<td align="left" width="30%">
						<a href='4.1.html'>prev</a> (Debug Handler)					</td>
					<td align="center" width="30%">
						<a href='4.html'>up</a> (Included Services) | 						<a href="index.html">Home</a>
					</td>
					<td align="right" width="30%">
						<a href='4.3.html'>next</a> (Database Handler)					</td>
				</tr>
			</table>
		</div>
		<!-- end -->

		<table width="100%" cellpadding="0" cellspacing="0">
	<tr>
		<td>&nbsp;</td>
		<td width="50%" align="center">
			<div class="title">
				:: Table of Contents ::
			</div>
			<div class='toc0'>
4.2 <a href='4.2.html'>Error Handlers</a><br/>
<div class='toc'>
4.2.1 <a href='4.2.html#Introduction'>Introduction</a><br/>
</div>
<div class='toc'>
4.2.2 <a href='4.2.html#Throwinganewerror'>Throwing a new error</a><br/>
</div>
<div class='toc'>
4.2.3 <a href='4.2.html#WrapperfunctionsthrowErroranduserError'>Wrapper functions throwError and userError</a><br/>
</div>
<div class='toc'>
4.2.4 <a href='4.2.html#PrintingErrors'>Printing Errors</a><br/>
</div>
</div>
		</td>
		<td>&nbsp;</td>
	</tr>
</table><div class='title'>Subchapter 4.2: Error Handlers</div>
<div class='content'>
<div class='inlinetitle'>4.2.1 <a name='Introduction'>Introduction</a></div>
<div class='section'>
<p><p>Included in Harmoni is the <i>ErrorHandler</i> class. Like the <i>DebugHandler</i>, it stores messages in a queue and outputs them when you tell it to. However, some errors are fatal, and some are not. Fatal errors are printed immediately, along with any other errors in the queue.</p></p>
<p><p>Two services are registered using the <i>ErrorHandler</i>: <b>ErrorHandler</b> and <b>UserError</b>. The former acts as a &quot;system&quot; error manager, handling mostly fatal errors or warnings that are produced by your program and must be fixed by either an administrator or the programmer. The latter is meant to keep track of errors created by an end user, such as entering a malformatted email in a form field. Like the <i>Debug</i> service, there are wrapper functions for both of the error services. They will be eplained at the end of this subchapter.</p></p>
</div>
<div class='inlinetitle'>4.2.2 <a name='Throwinganewerror'>Throwing a new error</a></div>
<div class='section'>
<p><p>There are two ways, using the <i>ErrorHandler</i> object, to add new errors. Both are outlined in the example:</p></p>
<div class='padding'><div class='notetitle'>Example</div><div class='example'><code><font color="#000000">
<font color="#0000BB">$errHandler </font><font color="#007700">=&amp; </font><font color="#0000BB">Services</font><font color="#007700">::</font><font color="#0000BB">getService</font><font color="#007700">(</font><font color="#DD0000">"ErrorHandler"</font><font color="#007700">); </font><font color="#FF8000">// or, "UserError"<br /><br />// now, throw a new error<br /></font><font color="#0000BB">$errHandler</font><font color="#007700">-&gt;</font><font color="#0000BB">addNewError</font><font color="#007700">(</font><font color="#DD0000">"This is my error string!"</font><font color="#007700">,</font><font color="#DD0000">"category"</font><font color="#007700">,</font><font color="#0000BB">false</font><font color="#007700">);<br /></font><font color="#FF8000">// or, make an Error object (you could use your own custom object)<br /></font><font color="#0000BB">$errHandler</font><font color="#007700">-&gt;</font><font color="#0000BB">addError</font><font color="#007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;new </font><font color="#0000BB">Error</font><font color="#007700">(</font><font color="#DD0000">"This is my error string!"</font><font color="#007700">,</font><font color="#DD0000">"category"</font><font color="#007700">,</font><font color="#0000BB">false</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br /></font>
</font>
</code></div></div>
<p><p>Both of the above methods do exactly the same thing. The advantage of using the second would be to create your own custom Error classes, for example to output common text with only one changing parameter (like, new EmptyFieldError(&quot;myFieldName&quot;) would print &quot;You forgot to enter required information for myFieldName.&quot;).</p></p>
<p><p>The arguments: 1 = the error string, 2 = a category (whatever you want), 3 = is the error fatal? (fatal errors stop program execution)</p></p>
</div>
<div class='inlinetitle'>4.2.3 <a name='WrapperfunctionsthrowErroranduserError'>Wrapper functions throwError and userError</a></div>
<div class='section'>
<p><p>Provided are two error handler wrapper functions. Both work identically but on different services, mentioned above. throwError() will throw an error to the <b>ErrorHandler</b> Serivce, whereas userError() will throw to <b>UserError</b>.</p></p>
<div class='padding'><div class='notetitle'>Example</div><div class='example'><code><font color="#000000">
<font color="#0000BB"></font><font color="#FF8000">// throw an error to ErrorHandler<br /></font><font color="#0000BB">throwError</font><font color="#007700">( new </font><font color="#0000BB">Error</font><font color="#007700">(</font><font color="#DD0000">"AAAAAAH! Something went very wrong! Aborting..."</font><font color="#007700">,</font><font color="#DD0000">"DB-API"</font><font color="#007700">,</font><font color="#0000BB">true</font><font color="#007700">) );<br /><br /></font><font color="#FF8000">// or to UserError<br /></font><font color="#0000BB">userError</font><font color="#007700">( new </font><font color="#0000BB">Error</font><font color="#007700">(</font><font color="#DD0000">"You didn't enter your name in the form!"</font><font color="#007700">,</font><font color="#DD0000">"user"</font><font color="#007700">,</font><font color="#0000BB">false</font><font color="#007700">) );<br /></font>
</font>
</code></div></div>
</div>
<div class='inlinetitle'>4.2.4 <a name='PrintingErrors'>Printing Errors</a></div>
<div class='section'>
</div>
</div>		
		<!-- bottom nav bar -->
		<div class="navbar">
			<table border="0" cellpadding="0" width="100%">
				<tr>
					<td align="left" width="30%">
						<a href='4.1.html'>prev</a> (Debug Handler)					</td>
					<td align="center" width="30%">
						<a href='4.html'>up</a> (Included Services) | 						<a href="index.html">Home</a>
					</td>
					<td align="right" width="30%">
						<a href='4.3.html'>next</a> (Database Handler)					</td>
				</tr>
			</table>
		</div>
		<!-- end -->
	</body>
</html>